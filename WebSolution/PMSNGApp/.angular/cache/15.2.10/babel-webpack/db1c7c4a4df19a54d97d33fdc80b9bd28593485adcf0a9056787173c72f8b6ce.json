{"ast":null,"code":"import { CalendarDay } from './CalenderDay';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common\";\nimport * as i2 from \"./tooltip.directive\";\nimport * as i3 from \"./chunk.pipe\";\nfunction CalenderComponent_table_7_tr_18_ng_container_1_strong_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ÉµÉµelementStart(0, \"strong\");\n    i0.ÉµÉµtext(1);\n    i0.ÉµÉµelementEnd();\n  }\n  if (rf & 2) {\n    const c_r5 = i0.ÉµÉµnextContext().$implicit;\n    const ctx_r7 = i0.ÉµÉµnextContext(3);\n    i0.ÉµÉµadvance(1);\n    i0.ÉµÉµtextInterpolate1(\" \", ctx_r7.monthNames[c_r5.date.getMonth()], \"\");\n  }\n}\nconst _c0 = function (a0) {\n  return {\n    \"border\": a0\n  };\n};\nfunction CalenderComponent_table_7_tr_18_ng_container_1_ng_container_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ÉµÉµelementContainerStart(0);\n    i0.ÉµÉµelement(1, \"div\", 11);\n    i0.ÉµÉµelementContainerEnd();\n  }\n  if (rf & 2) {\n    const project_r10 = ctx.$implicit;\n    const c_r5 = i0.ÉµÉµnextContext().$implicit;\n    const ctx_r8 = i0.ÉµÉµnextContext(3);\n    i0.ÉµÉµadvance(1);\n    i0.ÉµÉµpropertyInterpolate3(\"Tooltip\", \"\\n                                <h6> Name: \", project_r10.projectName, \"</h6>\\n                                <h6>StartDate: \", project_r10.startDate, \"</h6>\\n                                <h6>EndDate: \", project_r10.endDate, \"</h6>\");\n    i0.ÉµÉµproperty(\"ngStyle\", i0.ÉµÉµpureFunction1(4, _c0, ctx_r8.isProjectOngoing(c_r5.date, project_r10.projectName) ? \"4px solid \" + project_r10.color : \"\"));\n  }\n}\nconst _c1 = function (a0, a1, a2) {\n  return {\n    \"bg-primary\": a0,\n    \"red-date\": a1,\n    \"past-date\": a2\n  };\n};\nconst _c2 = function (a0) {\n  return {\n    \"blue-date\": a0\n  };\n};\nfunction CalenderComponent_table_7_tr_18_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r13 = i0.ÉµÉµgetCurrentView();\n    i0.ÉµÉµelementContainerStart(0);\n    i0.ÉµÉµelementStart(1, \"td\", 8);\n    i0.ÉµÉµlistener(\"click\", function CalenderComponent_table_7_tr_18_ng_container_1_Template_td_click_1_listener() {\n      const restoredCtx = i0.ÉµÉµrestoreView(_r13);\n      const c_r5 = restoredCtx.$implicit;\n      const ctx_r12 = i0.ÉµÉµnextContext(3);\n      return i0.ÉµÉµresetView(ctx_r12.onClick(c_r5.date));\n    });\n    i0.ÉµÉµelementStart(2, \"div\", 9)(3, \"strong\");\n    i0.ÉµÉµtext(4);\n    i0.ÉµÉµelementEnd();\n    i0.ÉµÉµtemplate(5, CalenderComponent_table_7_tr_18_ng_container_1_strong_5_Template, 2, 1, \"strong\", 10);\n    i0.ÉµÉµtemplate(6, CalenderComponent_table_7_tr_18_ng_container_1_ng_container_6_Template, 2, 6, \"ng-container\", 7);\n    i0.ÉµÉµelementEnd()();\n    i0.ÉµÉµelementContainerEnd();\n  }\n  if (rf & 2) {\n    const c_r5 = ctx.$implicit;\n    const j_r6 = ctx.index;\n    const i_r3 = i0.ÉµÉµnextContext().index;\n    const ctx_r4 = i0.ÉµÉµnextContext(2);\n    i0.ÉµÉµadvance(1);\n    i0.ÉµÉµproperty(\"ngClass\", i0.ÉµÉµpureFunction3(5, _c1, ctx_r4.isDateClicked(c_r5.date), ctx_r4.isholiday(c_r5.date), c_r5.isPastDate));\n    i0.ÉµÉµadvance(1);\n    i0.ÉµÉµproperty(\"ngClass\", i0.ÉµÉµpureFunction1(9, _c2, c_r5.isToday));\n    i0.ÉµÉµadvance(2);\n    i0.ÉµÉµtextInterpolate(c_r5.date.getDate());\n    i0.ÉµÉµadvance(1);\n    i0.ÉµÉµproperty(\"ngIf\", c_r5.isToday || i_r3 == 0 && j_r6 == 0 || c_r5.date.getDate() == 1);\n    i0.ÉµÉµadvance(1);\n    i0.ÉµÉµproperty(\"ngForOf\", ctx_r4.projects);\n  }\n}\nfunction CalenderComponent_table_7_tr_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ÉµÉµelementStart(0, \"tr\");\n    i0.ÉµÉµtemplate(1, CalenderComponent_table_7_tr_18_ng_container_1_Template, 7, 11, \"ng-container\", 7);\n    i0.ÉµÉµelementEnd();\n  }\n  if (rf & 2) {\n    const row_r2 = ctx.$implicit;\n    i0.ÉµÉµadvance(1);\n    i0.ÉµÉµproperty(\"ngForOf\", row_r2);\n  }\n}\nfunction CalenderComponent_table_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ÉµÉµelementStart(0, \"table\", 5)(1, \"thead\")(2, \"tr\")(3, \"th\", 6);\n    i0.ÉµÉµtext(4, \"Monday\");\n    i0.ÉµÉµelementEnd();\n    i0.ÉµÉµelementStart(5, \"th\", 6);\n    i0.ÉµÉµtext(6, \"Tuesday\");\n    i0.ÉµÉµelementEnd();\n    i0.ÉµÉµelementStart(7, \"th\", 6);\n    i0.ÉµÉµtext(8, \"Wednesday\");\n    i0.ÉµÉµelementEnd();\n    i0.ÉµÉµelementStart(9, \"th\", 6);\n    i0.ÉµÉµtext(10, \"Thursday\");\n    i0.ÉµÉµelementEnd();\n    i0.ÉµÉµelementStart(11, \"th\", 6);\n    i0.ÉµÉµtext(12, \"Friday\");\n    i0.ÉµÉµelementEnd();\n    i0.ÉµÉµelementStart(13, \"th\", 6);\n    i0.ÉµÉµtext(14, \"Saturday\");\n    i0.ÉµÉµelementEnd();\n    i0.ÉµÉµelementStart(15, \"th\", 6);\n    i0.ÉµÉµtext(16, \"Sunday\");\n    i0.ÉµÉµelementEnd()()();\n    i0.ÉµÉµelementStart(17, \"tbody\");\n    i0.ÉµÉµtemplate(18, CalenderComponent_table_7_tr_18_Template, 2, 1, \"tr\", 7);\n    i0.ÉµÉµpipe(19, \"chunk\");\n    i0.ÉµÉµelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ÉµÉµnextContext();\n    i0.ÉµÉµadvance(18);\n    i0.ÉµÉµproperty(\"ngForOf\", i0.ÉµÉµpipeBind2(19, 1, ctx_r0.calendar, 7));\n  }\n}\nexport class CalenderComponent {\n  constructor() {\n    this.calendar = [];\n    this.monthNames = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];\n    this.holidayDays = ['2023-11-02', '2023-11-17', '2023-11-15'];\n    this.monthIndex = 0;\n    this.projects = [{\n      projectName: 'Ekrushi',\n      startDate: '2023-12-02',\n      endDate: '2023-12-17'\n    }, {\n      projectName: 'TFLPortal',\n      startDate: '2023-12-02',\n      endDate: '2023-12-29'\n    }];\n  }\n  ngOnInit() {\n    this.projects.forEach(project => {\n      project.color = this.randomColorPicker();\n    });\n    this.generateCalendarDays(this.monthIndex);\n  }\n  generateCalendarDays(monthIndex) {\n    this.calendar = [];\n    let day = new Date(new Date().setMonth(new Date().getMonth() + monthIndex));\n    console.log('ðŸš€ ~ generateCalendarDays ~ day:', day);\n    console.log(new Date().getMonth());\n    this.displayMonth = this.monthNames[day.getMonth()] + day.getFullYear();\n    let startingDateOfCalendar = this.getStartDateForCalendar(day);\n    let dateToAdd = startingDateOfCalendar;\n    for (var i = 0; i < 35; i++) {\n      this.calendar.push(new CalendarDay(new Date(dateToAdd)));\n      dateToAdd = new Date(dateToAdd.setDate(dateToAdd.getDate() + 1));\n    }\n  }\n  getStartDateForCalendar(selectedDate) {\n    let lastDayOfPreviousMonth = new Date(selectedDate.setDate(0));\n    // start by setting the starting date of the calendar same as the last day of previous month\n    let startingDateOfCalendar = lastDayOfPreviousMonth;\n    // but since we actually want to find the last Monday of previous month\n    // we will start going back in days intil we encounter our last Monday of previous month\n    if (startingDateOfCalendar.getDay() != 1) {\n      do {\n        startingDateOfCalendar = new Date(startingDateOfCalendar.setDate(startingDateOfCalendar.getDate() - 1));\n      } while (startingDateOfCalendar.getDay() != 1);\n    }\n    return startingDateOfCalendar;\n  }\n  increaseMonth() {\n    this.monthIndex++;\n    this.generateCalendarDays(this.monthIndex);\n  }\n  decreaseMonth() {\n    this.monthIndex--;\n    this.generateCalendarDays(this.monthIndex);\n  }\n  setCurrentMonth() {\n    this.monthIndex = 0;\n    this.generateCalendarDays(this.monthIndex);\n  }\n  randomColorPicker() {\n    let result = '';\n    for (let i = 0; i < 6; ++i) {\n      const value = Math.floor(16 * Math.random());\n      result += value.toString(16);\n    }\n    return '#' + result;\n  }\n  onClick(date) {\n    this.clickedDate = date;\n    console.log(this.ConvertDateYYYY_MM_DD(date));\n  }\n  isholiday(date) {\n    let formatedDate = this.ConvertDateYYYY_MM_DD(date);\n    return this.holidayDays.includes(formatedDate);\n  }\n  isDateClicked(date) {\n    return this.clickedDate == date;\n  }\n  isProjectOngoing(date, projectName) {\n    let formatedDate = this.ConvertDateYYYY_MM_DD(date);\n    let project = this.projects.find(p => p.projectName == projectName);\n    return formatedDate >= project.startDate && formatedDate <= project.endDate;\n  }\n  ConvertDateYYYY_MM_DD(date) {\n    // convert into yyyy-mm-dd\n    const formattedDate = date.toLocaleDateString(undefined, {\n      year: 'numeric',\n      month: '2-digit',\n      day: '2-digit'\n    }).split('/').reverse().join('-');\n    return formattedDate;\n  }\n  static #_ = this.Éµfac = function CalenderComponent_Factory(t) {\n    return new (t || CalenderComponent)();\n  };\n  static #_2 = this.Éµcmp = /*@__PURE__*/i0.ÉµÉµdefineComponent({\n    type: CalenderComponent,\n    selectors: [[\"app-calender\"]],\n    decls: 8,\n    vars: 2,\n    consts: [[1, \"container-fluid\"], [\"type\", \"button\", \"value\", \"today\", 1, \"mx-2\", 3, \"click\"], [\"type\", \"button\", \"value\", \"<\", 1, \"mx-2\", 3, \"click\"], [\"type\", \"button\", \"value\", \">\", 1, \"mx-2\", 3, \"click\"], [\"class\", \"table-bordered w-100\", 4, \"ngIf\"], [1, \"table-bordered\", \"w-100\"], [1, \"col-1\"], [4, \"ngFor\", \"ngForOf\"], [1, \"calendar-day\", 3, \"ngClass\", \"click\"], [3, \"ngClass\"], [4, \"ngIf\"], [1, \"my-1\", 3, \"ngStyle\", \"Tooltip\"]],\n    template: function CalenderComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ÉµÉµelementStart(0, \"div\")(1, \"h4\", 0);\n        i0.ÉµÉµtext(2);\n        i0.ÉµÉµelementEnd();\n        i0.ÉµÉµelementStart(3, \"div\")(4, \"input\", 1);\n        i0.ÉµÉµlistener(\"click\", function CalenderComponent_Template_input_click_4_listener() {\n          return ctx.setCurrentMonth();\n        });\n        i0.ÉµÉµelementEnd();\n        i0.ÉµÉµelementStart(5, \"input\", 2);\n        i0.ÉµÉµlistener(\"click\", function CalenderComponent_Template_input_click_5_listener() {\n          return ctx.decreaseMonth();\n        });\n        i0.ÉµÉµelementEnd();\n        i0.ÉµÉµelementStart(6, \"input\", 3);\n        i0.ÉµÉµlistener(\"click\", function CalenderComponent_Template_input_click_6_listener() {\n          return ctx.increaseMonth();\n        });\n        i0.ÉµÉµelementEnd()()();\n        i0.ÉµÉµtemplate(7, CalenderComponent_table_7_Template, 20, 4, \"table\", 4);\n      }\n      if (rf & 2) {\n        i0.ÉµÉµadvance(2);\n        i0.ÉµÉµtextInterpolate1(\" \", ctx.displayMonth, \" \");\n        i0.ÉµÉµadvance(5);\n        i0.ÉµÉµproperty(\"ngIf\", ctx.calendar);\n      }\n    },\n    dependencies: [i1.NgClass, i1.NgForOf, i1.NgIf, i1.NgStyle, i2.TooltipDirective, i3.ChunkPipe],\n    styles: [\".calendar-day[_ngcontent-%COMP%] {\\r\\n    height: 12vh;\\r\\n    max-height: 12vh;\\r\\n    cursor: pointer;\\r\\n  }\\r\\n\\r\\n  \\r\\n  .calendar-day.past-date[_ngcontent-%COMP%] {\\r\\n    background-color: rgb(248, 248, 248);\\r\\n  }\\r\\n  \\r\\n  .calendar-day[_ngcontent-%COMP%]:hover {\\r\\n    background-color: rgb(248, 248, 248);\\r\\n  }\\r\\n  \\r\\n  .blue-date[_ngcontent-%COMP%] {\\r\\n    color: rgb(16, 110, 190);\\r\\n  }\\r\\n  \\r\\n  .calendar-day.red-date[_ngcontent-%COMP%]{\\r\\n    background-color: rgb(195, 117, 117);\\r\\n  }\\r\\n  .calendar-day.blue-date[_ngcontent-%COMP%]{\\r\\n    background-color:  rgb(106, 169, 225);\\r\\n    color: black;\\r\\n\\r\\n  }\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY2FsZW5kZXIvY2FsZW5kZXIuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0VBQ0U7SUFDRSxZQUFZO0lBQ1osZ0JBQWdCO0lBQ2hCLGVBQWU7RUFDakI7OztFQUdBO0lBQ0Usb0NBQW9DO0VBQ3RDOztFQUVBO0lBQ0Usb0NBQW9DO0VBQ3RDOztFQUVBO0lBQ0Usd0JBQXdCO0VBQzFCOztFQUVBO0lBQ0Usb0NBQW9DO0VBQ3RDO0VBQ0E7SUFDRSxxQ0FBcUM7SUFDckMsWUFBWTs7RUFFZCIsInNvdXJjZXNDb250ZW50IjpbIlxyXG4gIC5jYWxlbmRhci1kYXkge1xyXG4gICAgaGVpZ2h0OiAxMnZoO1xyXG4gICAgbWF4LWhlaWdodDogMTJ2aDtcclxuICAgIGN1cnNvcjogcG9pbnRlcjtcclxuICB9XHJcblxyXG4gIFxyXG4gIC5jYWxlbmRhci1kYXkucGFzdC1kYXRlIHtcclxuICAgIGJhY2tncm91bmQtY29sb3I6IHJnYigyNDgsIDI0OCwgMjQ4KTtcclxuICB9XHJcbiAgXHJcbiAgLmNhbGVuZGFyLWRheTpob3ZlciB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2IoMjQ4LCAyNDgsIDI0OCk7XHJcbiAgfVxyXG4gIFxyXG4gIC5ibHVlLWRhdGUge1xyXG4gICAgY29sb3I6IHJnYigxNiwgMTEwLCAxOTApO1xyXG4gIH1cclxuICBcclxuICAuY2FsZW5kYXItZGF5LnJlZC1kYXRle1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogcmdiKDE5NSwgMTE3LCAxMTcpO1xyXG4gIH1cclxuICAuY2FsZW5kYXItZGF5LmJsdWUtZGF0ZXtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICByZ2IoMTA2LCAxNjksIDIyNSk7XHJcbiAgICBjb2xvcjogYmxhY2s7XHJcblxyXG4gIH1cclxuXHJcbiAgXHJcblxyXG5cclxuICAiXSwic291cmNlUm9vdCI6IiJ9 */\"]\n  });\n}","map":{"version":3,"mappings":"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","names":["CalendarDay","i0","CalenderComponent","constructor","projectName","startDate","endDate","ngOnInit","projects","forEach","project","color","randomColorPicker","generateCalendarDays","monthIndex","calendar","day","Date","setMonth","getMonth","console","log","displayMonth","monthNames","getFullYear","startingDateOfCalendar","getStartDateForCalendar","dateToAdd","i","push","setDate","getDate","selectedDate","lastDayOfPreviousMonth","getDay","increaseMonth","decreaseMonth","setCurrentMonth","result","value","Math","floor","random","toString","onClick","date","clickedDate","ConvertDateYYYY_MM_DD","isholiday","formatedDate","holidayDays","includes","isDateClicked","isProjectOngoing","find","p","formattedDate","toLocaleDateString","undefined","year","month","split","reverse","join","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\Transflower\\TFLPortal\\WebSolution\\PMSNGApp\\src\\app\\calender\\calender.component.ts","C:\\Transflower\\TFLPortal\\WebSolution\\PMSNGApp\\src\\app\\calender\\calender.component.html"],"sourcesContent":["import { Component } from '@angular/core';\r\nimport { CalendarDay } from './CalenderDay';\r\n\r\n@Component({\r\n  selector: 'app-calender',\r\n  templateUrl: './calender.component.html',\r\n  styleUrls: ['./calender.component.css'],\r\n})\r\nexport class CalenderComponent {\r\n  public calendar: CalendarDay[] = [];\r\n  public monthNames = [\r\n    'January',\r\n    'February',\r\n    'March',\r\n    'April',\r\n    'May',\r\n    'June',\r\n    'July',\r\n    'August',\r\n    'September',\r\n    'October',\r\n    'November',\r\n    'December',\r\n  ];\r\n  public displayMonth!: string;\r\n  private holidayDays: string[] = ['2023-11-02', '2023-11-17', '2023-11-15'];\r\n  private monthIndex: number = 0;\r\n  clickedDate: any;\r\n\r\n  projects: any[] = [\r\n    {\r\n      projectName: 'Ekrushi',\r\n      startDate: '2023-12-02',\r\n      endDate: '2023-12-17',\r\n    },\r\n    {\r\n      projectName: 'TFLPortal',\r\n      startDate: '2023-12-02',\r\n      endDate: '2023-12-29',\r\n    },\r\n  ];\r\n\r\n  ngOnInit(): void {\r\n    this.projects.forEach((project) => {\r\n      project.color = this.randomColorPicker();\r\n    });\r\n    this.generateCalendarDays(this.monthIndex);\r\n  }\r\n\r\n  private generateCalendarDays(monthIndex: number): void {\r\n    this.calendar = [];\r\n\r\n    let day: Date = new Date(\r\n      new Date().setMonth(new Date().getMonth() + monthIndex)\r\n    );\r\n    console.log('ðŸš€ ~ generateCalendarDays ~ day:', day);\r\n    console.log(new Date().getMonth());\r\n    this.displayMonth = this.monthNames[day.getMonth()] + day.getFullYear();\r\n\r\n    let startingDateOfCalendar = this.getStartDateForCalendar(day);\r\n\r\n    let dateToAdd = startingDateOfCalendar;\r\n\r\n    for (var i = 0; i < 35; i++) {\r\n      this.calendar.push(new CalendarDay(new Date(dateToAdd)));\r\n      dateToAdd = new Date(dateToAdd.setDate(dateToAdd.getDate() + 1));\r\n    }\r\n  }\r\n\r\n  private getStartDateForCalendar(selectedDate: Date) {\r\n    let lastDayOfPreviousMonth = new Date(selectedDate.setDate(0));\r\n\r\n    // start by setting the starting date of the calendar same as the last day of previous month\r\n    let startingDateOfCalendar: Date = lastDayOfPreviousMonth;\r\n\r\n    // but since we actually want to find the last Monday of previous month\r\n    // we will start going back in days intil we encounter our last Monday of previous month\r\n    if (startingDateOfCalendar.getDay() != 1) {\r\n      do {\r\n        startingDateOfCalendar = new Date(\r\n          startingDateOfCalendar.setDate(startingDateOfCalendar.getDate() - 1)\r\n        );\r\n      } while (startingDateOfCalendar.getDay() != 1);\r\n    }\r\n\r\n    return startingDateOfCalendar;\r\n  }\r\n\r\n  public increaseMonth() {\r\n    this.monthIndex++;\r\n    this.generateCalendarDays(this.monthIndex);\r\n  }\r\n\r\n  public decreaseMonth() {\r\n    this.monthIndex--;\r\n    this.generateCalendarDays(this.monthIndex);\r\n  }\r\n\r\n  public setCurrentMonth() {\r\n    this.monthIndex = 0;\r\n    this.generateCalendarDays(this.monthIndex);\r\n  }\r\n\r\n  randomColorPicker(): string {\r\n    let result = '';\r\n    for (let i = 0; i < 6; ++i) {\r\n      const value = Math.floor(16 * Math.random());\r\n      result += value.toString(16);\r\n    }\r\n    return '#' + result;\r\n  }\r\n\r\n  onClick(date: Date) {\r\n    this.clickedDate = date;\r\n    console.log(this.ConvertDateYYYY_MM_DD(date));\r\n  }\r\n\r\n  isholiday(date: Date): boolean {\r\n    let formatedDate = this.ConvertDateYYYY_MM_DD(date);\r\n    return this.holidayDays.includes(formatedDate);\r\n  }\r\n\r\n  isDateClicked(date: Date): boolean {\r\n    return this.clickedDate == date;\r\n  }\r\n\r\n  isProjectOngoing(date: Date, projectName: string): boolean {\r\n    let formatedDate = this.ConvertDateYYYY_MM_DD(date);\r\n    let project = this.projects.find((p) => p.projectName == projectName);\r\n    return formatedDate >= project.startDate && formatedDate <= project.endDate;\r\n  }\r\n\r\n  ConvertDateYYYY_MM_DD(date: Date): string {\r\n    // convert into yyyy-mm-dd\r\n    const formattedDate = date\r\n      .toLocaleDateString(undefined, {\r\n        year: 'numeric',\r\n        month: '2-digit',\r\n        day: '2-digit',\r\n      })\r\n      .split('/')\r\n      .reverse()\r\n      .join('-');\r\n    return formattedDate;\r\n  }\r\n}\r\n","<div>\r\n    <h4 class=\" container-fluid\">\r\n        {{displayMonth}}\r\n\r\n    </h4>\r\n\r\n\r\n    <div>\r\n        <input type=\"button\" class=\"mx-2\" (click)=\"setCurrentMonth()\" value=\"today\" />\r\n        <input type=\"button\" class=\"mx-2\" (click)=\"decreaseMonth()\" value=\"<\" />\r\n        <input type=\"button\" class=\"mx-2\" (click)=\"increaseMonth()\" value=\">\" />\r\n    </div>\r\n</div>\r\n\r\n<table class=\"table-bordered w-100\" *ngIf=\"calendar\">\r\n    <thead>\r\n        <tr>\r\n            <th class=\"col-1\">Monday</th>\r\n            <th class=\"col-1\">Tuesday</th>\r\n            <th class=\"col-1\">Wednesday</th>\r\n            <th class=\"col-1\">Thursday</th>\r\n            <th class=\"col-1\">Friday</th>\r\n            <th class=\"col-1\">Saturday</th>\r\n            <th class=\"col-1\">Sunday</th>\r\n        </tr>\r\n    </thead>\r\n    <tbody>\r\n        <tr *ngFor=\"let row of calendar | chunk: 7; let i = index\">\r\n            <ng-container *ngFor=\"let c of row; let j = index\">\r\n                <td class=\"calendar-day \"\r\n                    [ngClass]=\"{ 'bg-primary': isDateClicked(c.date) ,'red-date': isholiday(c.date),'past-date': c.isPastDate}\"\r\n                    (click)=\"onClick(c.date)\">\r\n                    <div [ngClass]=\"{'blue-date': c.isToday } \">\r\n                        <strong>{{c.date.getDate()}}</strong> <strong\r\n                            *ngIf=\"c.isToday || (i==0 && j==0) || (c.date.getDate() == 1)\">\r\n                            {{monthNames[c.date.getMonth()]}}</strong>\r\n                        <ng-container *ngFor=\"let project of projects\">\r\n                            <div class=\"my-1\"\r\n                                [ngStyle]=\"{'border': isProjectOngoing(c.date, project.projectName) ? '4px solid '+project.color : ''}\"\r\n                                Tooltip=\"\r\n                                <h6> Name: {{project.projectName}}</h6>\r\n                                <h6>StartDate: {{project.startDate}}</h6>\r\n                                <h6>EndDate: {{project.endDate}}</h6>\">\r\n                            </div>\r\n                        </ng-container>\r\n                    </div>\r\n                </td>\r\n            </ng-container>\r\n        </tr>\r\n    </tbody>\r\n</table>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}