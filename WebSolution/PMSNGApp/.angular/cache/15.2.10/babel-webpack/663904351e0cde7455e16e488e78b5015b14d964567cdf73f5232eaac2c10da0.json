{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/time-sheet/services/time-sheet.service\";\nimport * as i2 from \"@angular/forms\";\nexport class InsertTimeSheetEntryComponent {\n  constructor(timeSheetService) {\n    this.timeSheetService = timeSheetService;\n    this.timeSheetEntry = {\n      id: 0,\n      fromTime: '',\n      toTime: '',\n      durationInMinutes: 0,\n      durationInHours: '',\n      activityId: 0,\n      timeSheetId: 0,\n      activity: undefined\n    };\n  }\n  onClick() {\n    let timeSheetEntry = {\n      id: 0,\n      fromTime: this.timeSheetEntry.fromTime,\n      toTime: this.timeSheetEntry.toTime,\n      durationInMinutes: this.timeSheetEntry.durationInMinutes,\n      durationInHours: this.timeSheetEntry.durationInHours,\n      activityId: this.timeSheetEntry.activityId,\n      timeSheetId: 0,\n      activity: undefined\n    };\n    this.timeSheetService.AddTimeSheetEntries(timeSheetEntry);\n  }\n  getDuration() {\n    let startTime = this.timeSheetEntry.fromTime;\n    let endTime = this.timeSheetEntry.toTime;\n    console.log(endTime);\n    if (startTime != '' && endTime != '') {\n      const startDate = new Date(`1970-01-01T${startTime}`);\n      const endDate = new Date(`1970-01-01T${endTime}`);\n      const durationMilliseconds = endDate.getTime() - startDate.getTime();\n      this.timeSheetEntry.durationInMinutes = durationMilliseconds / (1000 * 60);\n      this.timeSheetEntry.durationInHours = this.convertMinutesintoHours(this.timeSheetEntry.durationInMinutes);\n    }\n  }\n  convertMinutesintoHours(minutes) {\n    let str = `${(minutes / 60).toFixed(0)}h: ${minutes % 60}m`;\n    return str;\n  }\n  static #_ = this.ɵfac = function InsertTimeSheetEntryComponent_Factory(t) {\n    return new (t || InsertTimeSheetEntryComponent)(i0.ɵɵdirectiveInject(i1.TimeSheetService));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: InsertTimeSheetEntryComponent,\n    selectors: [[\"app-insert-time-sheet-entry\"]],\n    decls: 18,\n    vars: 4,\n    consts: [[\"type\", \"time\", \"name\", \"fromTime\", 3, \"ngModel\", \"ngModelChange\", \"change\"], [\"type\", \"time\", \"name\", \"toTime\", 3, \"ngModel\", \"ngModelChange\", \"change\"], [\"type\", \"text\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"submit\", 3, \"click\"]],\n    template: function InsertTimeSheetEntryComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"label\");\n        i0.ɵɵtext(1, \"From :\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(2, \"input\", 0);\n        i0.ɵɵlistener(\"ngModelChange\", function InsertTimeSheetEntryComponent_Template_input_ngModelChange_2_listener($event) {\n          return ctx.timeSheetEntry.fromTime = $event;\n        })(\"change\", function InsertTimeSheetEntryComponent_Template_input_change_2_listener() {\n          return ctx.getDuration();\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(3, \"label\");\n        i0.ɵɵtext(4, \"TO:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(5, \"input\", 1);\n        i0.ɵɵlistener(\"ngModelChange\", function InsertTimeSheetEntryComponent_Template_input_ngModelChange_5_listener($event) {\n          return ctx.timeSheetEntry.toTime = $event;\n        })(\"change\", function InsertTimeSheetEntryComponent_Template_input_change_5_listener() {\n          return ctx.getDuration();\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(6, \"br\")(7, \"br\");\n        i0.ɵɵelementStart(8, \"label\");\n        i0.ɵɵtext(9, \"ActivityId:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(10, \"input\", 2);\n        i0.ɵɵlistener(\"ngModelChange\", function InsertTimeSheetEntryComponent_Template_input_ngModelChange_10_listener($event) {\n          return ctx.timeSheetEntry.activityId = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(11, \"br\")(12, \"br\");\n        i0.ɵɵelementStart(13, \"p\");\n        i0.ɵɵtext(14);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(15, \"br\");\n        i0.ɵɵelementStart(16, \"button\", 3);\n        i0.ɵɵlistener(\"click\", function InsertTimeSheetEntryComponent_Template_button_click_16_listener() {\n          return ctx.onClick();\n        });\n        i0.ɵɵtext(17, \"Add\");\n        i0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngModel\", ctx.timeSheetEntry.fromTime);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngModel\", ctx.timeSheetEntry.toTime);\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngModel\", ctx.timeSheetEntry.activityId);\n        i0.ɵɵadvance(4);\n        i0.ɵɵtextInterpolate1(\"duration:\", ctx.timeSheetEntry.durationInHours, \"\");\n      }\n    },\n    dependencies: [i2.DefaultValueAccessor, i2.NgControlStatus, i2.NgModel],\n    styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n  });\n}","map":{"version":3,"mappings":";;;AAUA,OAAM,MAAOA,6BAA6B;EAYxCC,YAAoBC,gBAAkC;IAAlC,qBAAgB,GAAhBA,gBAAgB;IAXpC,mBAAc,GAAmB;MAC/BC,EAAE,EAAE,CAAC;MACLC,QAAQ,EAAE,EAAE;MACZC,MAAM,EAAE,EAAE;MACVC,iBAAiB,EAAE,CAAC;MACpBC,eAAe,EAAE,EAAE;MACnBC,UAAU,EAAE,CAAC;MACbC,WAAW,EAAE,CAAC;MACdC,QAAQ,EAAEC;KACX;EAEwD;EAGzDC,OAAO;IACL,IAAIC,cAAc,GAAmB;MACnCV,EAAE,EAAE,CAAC;MACLC,QAAQ,EAAE,IAAI,CAACS,cAAc,CAACT,QAAQ;MACtCC,MAAM,EAAE,IAAI,CAACQ,cAAc,CAACR,MAAM;MAClCC,iBAAiB,EAAE,IAAI,CAACO,cAAc,CAACP,iBAAiB;MACxDC,eAAe,EAAE,IAAI,CAACM,cAAc,CAACN,eAAe;MACpDC,UAAU,EAAE,IAAI,CAACK,cAAc,CAACL,UAAU;MAC1CC,WAAW,EAAE,CAAC;MACdC,QAAQ,EAAEC;KACX;IAED,IAAI,CAACT,gBAAgB,CAACY,mBAAmB,CAACD,cAAc,CAAC;EAE3D;EAEAE,WAAW;IACT,IAAIC,SAAS,GAAG,IAAI,CAACH,cAAc,CAACT,QAAQ;IAC5C,IAAIa,OAAO,GAAG,IAAI,CAACJ,cAAc,CAACR,MAAM;IACxCa,OAAO,CAACC,GAAG,CAACF,OAAO,CAAC;IACpB,IAAID,SAAS,IAAI,EAAE,IAAIC,OAAO,IAAI,EAAE,EAAK;MACvC,MAAMG,SAAS,GAAG,IAAIC,IAAI,CAAC,cAAcL,SAAS,EAAE,CAAC;MACrD,MAAMM,OAAO,GAAG,IAAID,IAAI,CAAC,cAAcJ,OAAO,EAAE,CAAC;MAEjD,MAAMM,oBAAoB,GAAGD,OAAO,CAACE,OAAO,EAAE,GAAGJ,SAAS,CAACI,OAAO,EAAE;MACpE,IAAI,CAACX,cAAc,CAACP,iBAAiB,GAAIiB,oBAAoB,IAAG,IAAI,GAAC,EAAE,CAAE;MACzE,IAAI,CAACV,cAAc,CAACN,eAAe,GAAC,IAAI,CAACkB,uBAAuB,CAAC,IAAI,CAACZ,cAAc,CAACP,iBAAiB,CAAC;;EAE3G;EAEAmB,uBAAuB,CAACC,OAAc;IACpC,IAAIC,GAAG,GAAC,GAAG,CAACD,OAAO,GAAC,EAAE,EAAEE,OAAO,CAAC,CAAC,CAAC,MAAOF,OAAO,GAAC,EAAG,GAAG;IACvD,OAAOC,GAAG;EACZ;EAAC;qBAhDU3B,6BAA6B;EAAA;EAAA;UAA7BA,6BAA6B;IAAA6B;IAAAC;IAAAC;IAAAC;IAAAC;MAAA;QCT1CC,6BAAO;QAAAA,sBAAM;QAAAA,iBAAQ;QACrBA,gCAAmG;QAA9DA;UAAA;QAAA,EAAqC;UAAA,OAAUC,iBAAa;QAAA,EAAvB;QAA1ED,iBAAmG;QACnGA,6BAAO;QAAAA,mBAAG;QAAAA,iBAAQ;QAClBA,gCAA+F;QAA7DA;UAAA;QAAA,EAAmC;UAAA,OAAWC,iBAAa;QAAA,EAAxB;QAArED,iBAA+F;QAACA,qBAAK;QAErGA,6BAAO;QAAAA,2BAAW;QAAAA,iBAAQ;QAC1BA,iCAA4D;QAAxCA;UAAA;QAAA,EAAuC;QAA3DA,iBAA4D;QAACA,sBAAK;QAGlEA,0BAAI;QAAAA,aAA2C;QAAAA,iBAAI;QACnDA,sBAAI;QACJA,kCAA0C;QAApBA;UAAA,OAASC,aAAS;QAAA,EAAC;QAACD,oBAAG;QAAAA,iBAAS;;;QAVjBA,eAAqC;QAArCA,qDAAqC;QAExCA,eAAmC;QAAnCA,mDAAmC;QAGjDA,eAAuC;QAAvCA,uDAAuC;QAGvDA,eAA2C;QAA3CA,0EAA2C","names":["InsertTimeSheetEntryComponent","constructor","timeSheetService","id","fromTime","toTime","durationInMinutes","durationInHours","activityId","timeSheetId","activity","undefined","onClick","timeSheetEntry","AddTimeSheetEntries","getDuration","startTime","endTime","console","log","startDate","Date","endDate","durationMilliseconds","getTime","convertMinutesintoHours","minutes","str","toFixed","selectors","decls","vars","consts","template","i0","ctx"],"sourceRoot":"","sources":["C:\\Transflower\\TFLPortal\\WebSolution\\PMSNGApp\\src\\app\\time-sheet\\components\\forms\\insert-time-sheet-entry\\insert-time-sheet-entry.component.ts","C:\\Transflower\\TFLPortal\\WebSolution\\PMSNGApp\\src\\app\\time-sheet\\components\\forms\\insert-time-sheet-entry\\insert-time-sheet-entry.component.html"],"sourcesContent":["import { Component, EventEmitter, OnInit, Output } from '@angular/core';\r\nimport { FormBuilder, Validators } from '@angular/forms';\r\nimport { TimeSheetEntry } from 'src/app/time-sheet/models/timesheetentry';\r\nimport { TimeSheetService } from 'src/app/time-sheet/services/time-sheet.service';\r\n\r\n@Component({\r\n  selector: 'app-insert-time-sheet-entry',\r\n  templateUrl: './insert-time-sheet-entry.component.html',\r\n  styleUrls: ['./insert-time-sheet-entry.component.css'],\r\n})\r\nexport class InsertTimeSheetEntryComponent {\r\n  timeSheetEntry: TimeSheetEntry = {\r\n    id: 0,\r\n    fromTime: '',\r\n    toTime: '',\r\n    durationInMinutes: 0,\r\n    durationInHours: '',\r\n    activityId: 0,\r\n    timeSheetId: 0,\r\n    activity: undefined\r\n  };\r\n\r\n  constructor(private timeSheetService: TimeSheetService) {}\r\n\r\n  \r\n  onClick() {\r\n    let timeSheetEntry: TimeSheetEntry = {\r\n      id: 0,\r\n      fromTime: this.timeSheetEntry.fromTime,\r\n      toTime: this.timeSheetEntry.toTime,\r\n      durationInMinutes: this.timeSheetEntry.durationInMinutes,\r\n      durationInHours: this.timeSheetEntry.durationInHours,\r\n      activityId: this.timeSheetEntry.activityId,\r\n      timeSheetId: 0,\r\n      activity: undefined\r\n    };\r\n\r\n    this.timeSheetService.AddTimeSheetEntries(timeSheetEntry);\r\n  \r\n  }\r\n\r\n  getDuration() {\r\n    let startTime = this.timeSheetEntry.fromTime;\r\n    let endTime = this.timeSheetEntry.toTime;\r\n    console.log(endTime);\r\n    if (startTime != '' && endTime != ''   ) {\r\n      const startDate = new Date(`1970-01-01T${startTime}`);\r\n      const endDate = new Date(`1970-01-01T${endTime}`);\r\n\r\n      const durationMilliseconds = endDate.getTime() - startDate.getTime();\r\n      this.timeSheetEntry.durationInMinutes = (durationMilliseconds /(1000*60));\r\n      this.timeSheetEntry.durationInHours=this.convertMinutesintoHours(this.timeSheetEntry.durationInMinutes);\r\n    }\r\n  }\r\n\r\n  convertMinutesintoHours(minutes:number){\r\n    let str=`${(minutes/60).toFixed(0)}h: ${(minutes%60)}m`;\r\n    return str;\r\n  }\r\n}\r\n","\r\n<label>From :</label>\r\n<input type=\"time\" name=\"fromTime\"   [(ngModel)]=\"timeSheetEntry.fromTime\"(change)=\"getDuration()\">\r\n<label>TO:</label>\r\n<input type=\"time\" name=\"toTime\"  [(ngModel)]=\"timeSheetEntry.toTime\" (change)=\"getDuration()\"> <br/> <br/>\r\n\r\n<label>ActivityId:</label>\r\n<input type=\"text\"  [(ngModel)]=\"timeSheetEntry.activityId\"> <br/><br>\r\n\r\n\r\n<p >duration:{{timeSheetEntry.durationInHours}}</p>\r\n<br>\r\n<button type=\"submit\" (click)=\"onClick()\">Add</button>\r\n\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}